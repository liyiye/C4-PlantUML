@startuml
'https://plantuml.com/component-diagram

cloud 标准区{
 node 订单服务{
     boundary 修改数据
     component 数据同步发送模块
     database "oracle" {
       frame "cld_sys_param"
     }
 }
 node 定时任务服务{
    component 数据同步接收模块
 }
node clb
node 内部外联负载
node MCPSO_WB
}

cloud 自用区{

  node F5

  node p5web

  node p4

  node p5mcp{
    component 数据同步模块
  }

  node nnmp_micro_sync{
    component 数据同步执行模块

    database "tidb"

  }
}


[修改数据] --> [数据同步发送模块]:1
[数据同步发送模块] --> [cld_sys_param]:2写
[数据同步发送模块] --> [clb]:3事务提交后调用同步接口
[clb] -->  [数据同步接收模块]: 5负载到定时任务
[数据同步接收模块] --> [内部外联负载]:6.需要新增配置端口
[内部外联负载] --> [MCPSO_WB]:7.
[MCPSO_WB] --> [F5]:8.
[F5] --> [p5web]:9.
[p5web] --> [数据同步模块]:10.
[数据同步模块] --> [数据同步执行模块]:11 通过p4调用A3341ST04
[p4] .L[#red].> [数据同步模块]:拉取p4数据
[nnmp_micro_sync] .[#red].> [p4]:注册A3341ST04到 p4
[数据同步执行模块] --> [tidb]:12

note right of [clb]
  内部AP负载均衡
  10.205.137.164:8191
end note
note right of [定时任务服务]
  广研_建行生活_服务_NF_batch18
  广研_建行生活_服务_NF_batch19
  广研_建行生活_服务_NF_batch20
  广研_建行生活_服务_NF_batch21
end note
note right of [内部外联负载]
10.206.194.11
end note
note right of [F5]
11.56.98.24:18301,11.179.0.9:18301
end note
@enduml